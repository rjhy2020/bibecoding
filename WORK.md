# 다중 응답 CTA 패턴/문장 분리 관리 계획 (승인 대기)

## 배경/문제
- ChatPage에서 여러 번 질문하면 `_lastCurlyPattern`과 `_lastParenPattern`이 마지막 답변 기준으로 덮어쓰여 이전 답변의 CTA가 잘못된 패턴/문장을 사용한다.
- 사용자가 과거 답변의 "예문 생성하기"를 눌러도 해당 답변의 패턴/문장을 그대로 활용할 수 있어야 한다.

## 목표
- 각 어시스턴트 메시지마다 패턴과 문장을 개별로 저장하고, CTA 클릭 시 해당 메시지의 데이터를 사용하도록 한다.
- 스트리밍 과정에서도 패턴/문장이 안정적으로 추출·보존되며, 기존 자동 저장/복습 로직에 영향이 없도록 한다.

## 작업 단계
1) 메시지별 패턴/문장 보관 구조 설계 (`ChatMessage` 확장 또는 별도 맵 등) 및 상태 변수 추가
2) `_appendAssistant` 및 `_updateStreamingAssistant`에서 메시지별 패턴/문장을 추출·저장하도록 변경
3) CTA 빌더에서 현재 메시지를 전달해 `_openExampleDialog`가 정확한 패턴/문장을 받도록 시그니처 조정
4) 여러 질문 후 이전 답변 CTA를 눌러 패턴/문장이 올바르게 전달되는지 수동 테스트

## 산출물
- 각 답변별로 정확한 패턴/문장을 사용하는 ChatPage

